[
    {
        "scene_index": "0",
        "descriptions": [
            {
                "required_flags": "",
                "text": "It's a wonder your pockets still hold up."
            }
        ],
        "actions": [
            {
                "message": "Key ring",
                "description": "A whole bunch of keys, maybe one of them leads to freedom!",
                "required_flags": "has_key"
            },
            {
                "message": "File",
                "description": "A rusty file. It would make quick work of a certain few metal bars.",
                "required_flags": "has_file"
            },
            {
                "message": "Large book",
                "description": "A large musty tome containing information on herbalism.",
                "required_flags": "has_book"
            },
            {
                "message": "Herb",
                "description": "The herbology book suggests these if you’re suffering from insomnia.",
                "required_flags": "has_herb"
            },
            {
                "message": "A leg",
                "description": "It’s something to stand on.",
                "required_flags": "has_leg"
            },
            {
                "message": "Arm",
                "description": "It’s a constitutional right to bear one.",
                "required_flags": "has_arm"
            },
            {
                "message": "Boomerang",
                "description": "It doesn’t make a boom. That’s a real bummer.",
                "required_flags": "has_boomerang"
            },
            {
                "message": "Bucket",
                "description": "It’s a sturdy old water bucket. It's so large your head could comfortably fit in it.",
                "required_flags": "has_bucket"
            },
            {
                "message": "Go back",
                "description": "You get back to the matter at hand.",
                "required_flags": "",
                "go_to_scene": "1"
            }
        ]
    },
    {
        "scene_index": "1",
        "descriptions": [
            {
                "required_flags": "",
                "text": "You awaken in a damp cell. You are scheduled for execution. With a slight preference for living you decide to escape instead."
            }
        ],
        "actions": [
            {
                "message": "Explore the room",
                "description": "You stand up and take a look around.",
                "go_to_scene": "2"
            },
            {
                "message": "Go to sleep",
                "description": "You go back to sleep.",
                "required_flags": "!sleep_1",
                "set_flags": "sleep_1",
                "perform_once": true,
                "go_to_scene": "1"
            },
            {
                "message": "Go to sleep again",
                "description": "You barely woke up before you go back to sleep.",
                "required_flags": "sleep_1, !sleep_2",
                "set_flags": "sleep_2",
                "perform_once": true,
                "go_to_scene": "1"
            },
            {
                "message": "Continue sleeping",
                "description": "I suppose you didn't sleep well the last two times.",
                "required_flags": "sleep_2, !sleep_3",
                "perform_once": true,
                "set_flags": "sleep_3",
                "go_to_scene": "1"
            },
            {
                "message": "Snooze some more",
                "description": "Do you even care about living?",
                "required_flags": "sleep_3, !sleep_4",
                "perform_once": true,
                "set_flags": "sleep_4",
                "go_to_scene": "1"
            },
            {
                "message": "\"Snooze\" some more",
                "description": "Well... it's your funeral. Literally.",
                "required_flags": "sleep_4",
                "perform_once": true,
                "set_flags": "overslept",
                "go_to_scene": "1"
            }
        ]
    },
    {
        "scene_index": "2",
        "descriptions": [
            {
                "required_flags": "door_unlocked, box_moved",
                "text": "The metal door stands open. The wooden box stands under the ceiling grate. The floor is cold stone covered in rubble."
            },
            {
                "required_flags": "door_unlocked",
                "text": "The metal door stands open. The only source of light is a grated opening in the ceiling. The floor is cold stone covered in rubble."
            },
            {
                "required_flags": "box_moved",
                "text": "A heavy door bars the exit. The wooden box stands under the ceiling grate. The floor is cold stone covered in rubble."
            },
            {
                "required_flags": "",
                "text": "A heavy door bars the exit. The only source of light is a grated opening in the ceiling. The floor is cold stone covered in rubble."
            }
        ],
        "actions": [
            {
                "message": "Approach the door",
                "description": "",
                "required_flags": "!door_unlocked",
                "go_to_scene": "3"
            },
            {
                "message": "Go through the door",
                "description": "You walk past the open metal door.",
                "required_flags": "door_unlocked",
                "go_to_scene": "6"
            },
            {
                "message": "Examine the floor",
                "description": "You examine the floor, perhaps there is something useful there?",
                "go_to_scene": "4"
            },
            {
                "message": "Check the ceiling grate",
                "go_to_scene": "5"
            }
        ]
    },
    {
        "scene_index": "3",
        "descriptions": [
            {
                "required_flags": "",
                "text": "A closed metal door stands before you. It seems old and rusted, though it’s far too sturdy to break through."
            }
        ],
        "actions": [
            {
                "message": "Unlock the door",
                "description": "The key turns slowly but steadily and the old lock gives a loud click.",
                "required_flags": "has_key",
                "set_flags": "door_unlocked",
                "go_to_scene": "6"
            },
            {
                "message": "Knock",
                "description": "No one answers.",
                "perform_once": true
            },
            {
                "message": "Open",
                "description": "It won’t budge.",
                "perform_once": true
            },
            {
                "message": "Go back",
                "description": "You turn away from the door.",
                "go_to_scene": "2"
            }
        ]
    },
    {
        "scene_index": "4",
        "descriptions": [
            {
                "required_flags": "box_moved",
                "text": "The uneven stone floor is cold, hard and dirty. In one corner lies a pile of straw as a sad mockery of a bed."
            },
            {
                "required_flags": "",
                "text": "The uneven stone floor is cold, hard and dirty. In one corner lies a pile of straw as a sad mockery of a bed and in another stands a wooden box."
            }
        ],
        "actions": [
            {
                "message": "Inspect the box",
                "required_flags": "!box_moved",
                "go_to_scene": "7"
            },
            {
                "message": "Sit on bed",
                "description": "It’s just as uncomfortable as when you woke up.",
                "perform_once": true
            },
            {
                "message": "Go back",
                "description": "You rise from the floor.",
                "go_to_scene": "2"
            }
        ]
    },
    {
        "scene_index": "5",
        "descriptions": [
            {
                "required_flags": "box_moved",
                "text": "A small grate sits in the ceiling letting through the candle light and snores from the room above. You could probably squeeze through if you could get rid of the bars. The wooden box stands right beneath it."
            },
            {
                "required_flags": "",
                "text": "A small grate sits in the ceiling letting through the candle light and snores from the room above. You could probably squeeze through if you could get rid of the bars."
            }
        ],
        "actions": [
            {
                "message": "Try to reach",
                "description": "You try to reach the metal bars but it’s too high up.",
                "perform_once": true
            },
            {
                "message": "Climb the box",
                "description": "Now you’re thinking outside it!",
                "required_flags": "box_moved",
                "go_to_scene": "8"
            },
            {
                "message": "Go back",
                "description": "You turn back to the rest of the cell.",
                "go_to_scene": "2"
            }
        ]
    },
    {
        "scene_index": "6",
        "descriptions": [
            {
                "required_flags": "in_first_cell",
                "text": "The door is ajar. Before you lies another prison cell, this one even more run down."
            },
            {
                "required_flags": "!in_first_cell",
                "text": "The door is ajar. Before you lies your original cell. It’s a bit nicer."
            }
        ],
        "actions": [
            {
                "message": "Go into the other cell",
                "description": "You step through the doorway.",
                "set_flags": "!in_first_cell",
                "go_to_scene": "9"
            },
            {
                "message": "Go back to your cell",
                "description": "You turn back to the rest of the cell.",
                "set_flags": "in_first_cell",
                "go_to_scene": "2"
            }
        ]
    },
    {
        "scene_index": "7",
        "descriptions": [
            {
                "required_flags": "",
                "text": "A wooden box stands alone in a corner. It seems to be much newer than most things in the room. A note says “Don’t mess with the superposition”."
            }
        ],
        "actions": [
            {
                "message": "Push it real good",
                "description": "You push it under the grate.",
                "required_flags": "!box_moved",
                "set_flags": "box_moved",
                "perform_once": true
            },
            {
                "message": "Check inside",
                "description": "You find a dead cat.",
                "required_flags": "cat_be_ded, !box_moved",
                "perform_once": true
            },
            {
                "message": "Check inside",
                "description": " A confused cat stares back at you.",
                "required_flags": "!cat_be_ded, !box_moved",
                "perform_once": true
            },
            {
                "message": "Go back",
                "description": "You step away from the corner.",
                "go_to_scene": "2"
            }
        ]
    },
    {
        "scene_index": "8",
        "descriptions": [
            {
                "required_flags": "",
                "text": "As you peek through the grate you see a long corridor. A guard lays sleeping on a nearby bench. On the floor stands a mug filled with something."
            }
        ],
        "actions": [
            {
                "message": "Reach for the sleeping guard",
                "description": "Careful not to wake him!",
                "go_to_scene": "10"
            },
            {
                "message": "Reach for the guards drink",
                "description": "Surely he wouldn’t mind?",
                "required_flags": "!herb_mah_drink",
                "go_to_scene": "11"
            },
            {
                "message": "File the bars",
                "description": "The guard snores loudly as you file.",
                "required_flags": "has_file, sleepy_guard, !file_bars_1",
                "set_flags": "file_bars_1"
            },
            {
                "message": "Continue filing the bars",
                "description": "The amount of noise makes you feel thankful for the herbs.",
                "required_flags": "has_file, sleepy_guard, file_bars_1, !file_bars_2",
                "set_flags": "file_bars_2"
            },
            {
                "message": "Continue filing the bars",
                "description": "TODO you escape!",
                "required_flags": "has_file, sleepy_guard, file_bars_2, !file_bars_3",
                "set_flags": "file_bars_3"
            },
            {
                "message": "File the bars",
                "description": "The guard stirs at the screeching sound",
                "required_flags": "has_file, !file_bars_1, !sleepy_guard",
                "set_flags": "file_bars_1"
            },
            {
                "message": "Continue filing the bars",
                "description": "The guard wakes.",
                "required_flags": "has_file, file_bars_1, !sleepy_guard, !file_bars_2",
                "set_flags": "file_bars_2"
            },
            {
                "message": "Continue filing the bars",
                "description": "TODO Get Caught",
                "required_flags": "has_file, file_bars_2, !sleepy_guard, !file_bars_3",
                "set_flags": "file_bars_3"
            },
            {
                "message": "Climb back down",
                "description": "You climb back down to the floor.",
                "set_flags": "!file_bars_1, !file_bars_2, !file_bars_3",
                "go_to_scene": "2"
            }
        ]
    },
    {
        "scene_index": "9",
        "descriptions": [
            {
                "required_flags": "slab_lifted",
                "text": "This cell hasn't had a living occupant in some time, made obvious by the corpse slumped in a corner. Against the opposite wall of the door stands a rickety table. The center of the floor disappears into a dark hole."
            },
            {
                "required_flags": "!slab_lifted",
                "text": "This cell hasn't had a living occupant in some time, made obvious by the corpse slumped in a corner. Against the opposite wall of the door stands a rickety table. The center of the floor is covered by a large slab of wood."
            }
        ],
        "actions": [
            {
                "message": "Check the table",
                "description": "You head on over to it.",
                "go_to_scene": "12"
            },
            {
                "message": "Examine the corpse",
                "description": "Haven’t you been told to stay away from dead bodies?",
                "go_to_scene": "13"
            },
            {
                "message": "Approach the wooden slab",
                "description": "It does look a bit out of place.",
                "required_flags": "!slab_lifted",
                "go_to_scene": "14"
            },
            {
                "message": "Approach the hole in the floor",
                "description": "Careful not to trip!",
                "required_flags": "slab_lifted",
                "go_to_scene": "15"
            },
            {
                "message": "Return to the doorway",
                "description": "Sometimes you need to step back before you step forward",
                "go_to_scene": "6"
            }
        ]
    },
    {
        "scene_index": "10",
        "descriptions": [
            {
                "required_flags": "has_key",
                "text": "The unkempt guard is snoring loudly. His belt looks lonely without the keyring."
            },
            {
                "required_flags": "!has_key",
                "text": "The unkempt guard is snoring loudly. From his belt dangles a key ring with an array of different coloured and shaped keys."
            }
        ],
        "actions": [
            {
                "message": "Take the keys",
                "description": "You slide the key ring of the guards belt. You make a lot of noise, but the guard doesn’t seem to notice.",
                "perform_once": true,
                "set_flags": "has_key"
            },
            {
                "message": "Wake the guard",
                "description": "He scowls at you, takes a swig from the mug and then promptly goes back to sleep.",
                "required_flags": "!herb_mah_drink"
            },
            {
                "message": "Wake the guard",
                "description": "He scowls at you, downs the rest of the mug and then promptly goes back to sleep. If the herbology book was right it ought to be a deep sleep.",
                "required_flags": "herb_mah_drink",
                "perform_once": true,
                "set_flags": "sleepy_guard"
            },
            {
                "message": "Reach for something else",
                "description": "",
                "go_to_scene": "8"
            }
        ]
    },
    {
        "scene_index": "11",
        "descriptions": [
            {
                "required_flags": "",
                "text": "A mug stands on the floor next to the bench. It is half full, or half empty."
            }
        ],
        "actions": [
            {
                "message": "Pick it up",
                "description": "It doesn’t fit through the grate.",
                "perform_once": true
            },
            {
                "message": "Spit in it",
                "description": "Were you never taught table manners?",
                "perform_once": true
            },
            {
                "message": "Put the herb in it",
                "description": "You put the herb in the drink.",
                "required_flags": "has_herb",
                "set_flags": "!has_herb",
                "perform_once": true
            },
            {
                "message": "Leave the mug be",
                "description": "You reach for something else.",
                "go_to_scene": "8"
            }
        ]
    },
    {
        "scene_index": "12",
        "descriptions": [
            {
                "required_flags": "!has_book",
                "text": "The table wobbles as you step closer. Atop it rests a moldy tome of herb-lore."
            },
            {
                "required_flags": "has_book",
                "text": "The table wobbles as you step closer. There's nothing but dust and cloth scraps on it."
            }
        ],
        "actions": [
            {
                "message": "Pick up the herbology book.",
                "description": "Now you know a lot more about plants!",
                "required_flags": "!has_book",
                "set_flags": "has_book"
            },
            {
                "message": "Turn back to the rest of the room",
                "description": "Let’s table this topic for now.",
                "go_to_scene": "9"
            }
        ]
    },
    {
        "scene_index": "13",
        "descriptions": [
            {
                "required_flags": "",
                "text": "The prisoner’s body sits half leaning against a corner. It’s past the process of decay and doesn’t smell too bad. It’s dressed in similar rags to yourself."
            }
        ],
        "actions": [
            {
                "message": "Search the corpse’s pocketses",
                "description": "You find a precious file.",
                "required_flags": "!has_file",
                "set_flags": "has_file",
                "perform_once": true
            },
            {
                "message": "Back away",
                "description": "You let your disgust get the better of you.",
                "go_to_scene": "9"
            }
        ]
    },
    {
        "scene_index": "14",
        "descriptions": [
            {
                "required_flags": "",
                "text": "A large slab of wood rests on the floor. It looks heavy, but you are strong."
            }
        ],
        "actions": [
            {
                "message": "Lift the slab of wood",
                "description": "The wood creaks loudly. Or was that your back?",
                "set_flags": "slab_lifted",
                "go_to_scene": "15"
            },
            {
                "message": "Look at something else",
                "description": "You didn't even lift bro.",
                "go_to_scene": "9"
            }
        ]
    },
    {
        "scene_index": "15",
        "descriptions": [
            {
                "required_flags": "",
                "text": "A large hole exists where the floor has collapsed into the darkness below. Foul air rises from it and meets your nose."
            }
        ],
        "actions": [
            {
                "message": "Climb down",
                "description": "You descend carefully, finding crevices for your fingers and toes that slowly lead you downwards.",
                "go_to_scene": "16"
            },
            {
                "message": "Jump down",
                "description": "You descend carelessly. Jumping is so much faster!",
                "set_flags": "ouch",
                "go_to_scene": "16"
            },
            {
                "message": "Back away",
                "description": "You decide that the dark and foul smelling hole can wait.",
                "go_to_scene": "9"
            }
        ]
    },
    {
        "scene_index": "16",
        "descriptions": [
            {
                "required_flags": "flow_increased, ouch",
                "text": "You find yourself knee deep in the sludge of an old sewer. The dark tunnel extends both in front of and behind you. You hurt your leg pretty badly when you jumped, so you're probably not climbing back up."
            },
            {
                "required_flags": "flow_increased",
                "text": "You find yourself knee deep in the sludge of an old sewer. The dark tunnel extends both in front of and behind you."
            },
            {
                "required_flags": "ouch",
                "text": "You find yourself ankles deep in the sludge of an old sewer. The dark tunnel extends both in front of and behind you. You hurt your leg pretty badly when you jumped, so you're probably not climbing back up."
            },
            {
                "required_flags": "",
                "text": "You find yourself ankles deep in the sludge of an old sewer. The dark tunnel extends both in front of and behind you."
            }
        ],
        "actions": [
            {
                "message": "Climb back up",
                "description": "You climb your way back up the slippery wall.",
                "required_flags": "!ouch",
                "go_to_scene": "9"
            },
            {
                "message": "Climb back up",
                "description": "You attempt to climb back up but the pain in your leg becomes to much and you slip. I did warn you.",
                "required_flags": "ouch",
                "perform_once": true
            },
            {
                "message": "Go forwards",
                "description": "",
                "go_to_scene": "17"
            },
            {
                "message": "Go backwards",
                "description": "You should still look where you’re going.",
                "required_flags": "!flow_increased",
                "go_to_scene": "18"
            },
            {
                "message": "Go backwards",
                "description": "You should still look where you’re going.",
                "required_flags": "rocks_cleared",
                "go_to_scene": "19"
            }
        ]
    },
    {
        "scene_index": "17",
        "descriptions": [
            {
                "required_flags": "",
                "text": "You’re walking through a long tunnel, it’s as damp and foul smelling as ever."
            }
        ],
        "actions": [
            {
                "message": "Go forward",
                "description": "The tunnel keeps going.",
                "required_flags": "tunnel_start",
                "set_flags": "!tunnel_start, past_tunnel_start"
            },
            {
                "message": "Go forward",
                "description": "You see a skeleton laying in the water.",
                "required_flags": "past_tunnel_start",
                "set_flags": "!past_tunnel_start, tunnel_at_skeleton"
            },
            {
                "message": "Go forward",
                "description": "You leave the skeleton behind.",
                "required_flags": "tunnel_at_skeleton",
                "set_flags": "!tunnel_at_skeleton, tunnel_middle"
            },
            {
                "message": "Go forward",
                "description": "Unsurprisingly the tunnel keeps on going!",
                "required_flags": "tunnel_middle",
                "set_flags": "past_tunnel_middle, !tunnel_middle"
            },
            {
                "message": "Go forward",
                "description": "You finally see the light at the end of the tunnel!",
                "required_flags": "past_tunnel_middle",
                "set_flags": "!past_tunnel_middle, tunnel_end"
            },
            {
                "message": "Go towards the light",
                "description": "You leave the dark tunnel behind you!",
                "required_flags": "tunnel_end",
                "go_to_scene": "21"
            },
            {
                "message": "Look at the skeleton",
                "description": "You stop and take a look at the bones.",
                "required_flags": "tunnel_at_skeleton",
                "go_to_scene": "20"
            },
            {
                "message": "Go back",
                "description": "You get back to where you came down.",
                "required_flags": "tunnel_start",
                "go_to_scene": "16"
            },
            {
                "message": "Go back",
                "description": "You're probably close to the beginning.",
                "required_flags": "past_tunnel_start",
                "set_flags": "!past_tunnel_start, tunnel_start"
            },
            {
                "message": "Go back",
                "description": "Surprisingly it's just as long the other way round.",
                "required_flags": "tunnel_at_skeleton",
                "set_flags": "!tunnel_at_skeleton, past_tunnel_start"
            },
            {
                "message": "Go back",
                "description": "You back at the skeleton.",
                "required_flags": "tunnel_middle",
                "set_flags": "!tunnel_middle, tunnel_at_skeleton"
            },
            {
                "message": "Go back",
                "description": "The tunnel keeps going.",
                "required_flags": "past_tunnel_middle",
                "set_flags": "tunnel_middle, !past_tunnel_middle"
            },
            {
                "message": "Go back",
                "description": "You head away from the light.",
                "required_flags": "tunnel_end",
                "set_flags": "past_tunnel_middle, !tunnel_end"
            }
        ]
    },
    {
        "scene_index": "18",
        "descriptions": [
            {
                "required_flags": "has_herb",
                "text": "You reach a dead end. Water is trickling through a pile of rocks."
            },
            {
                "required_flags": "",
                "text": "You reach a dead end. Water is trickling through a pile of rocks, with a lonely plant growing through the gaps in the stone."
            }
        ],
        "actions": [
            {
                "message": "Pick sleeping herbs",
                "description": "You’d make a fine gardener.",
                "required_flags": "has_book",
                "perform_once": true,
                "set_flags": "has_herb"
            },
            {
                "message": "Clear away the rocks",
                "description": "Digging through the pile takes some time.",
                "perform_once": true,
                "set_flags": "rocks_cleared",
                "go_to_scene": "19"
            },
            {
                "message": "Head back",
                "description": "You walk away from the mound of rocks.",
                "go_to_scene": "16"
            }
        ]
    },
    {
        "scene_index": "19",
        "descriptions": [
            {
                "required_flags": "flow_increased",
                "text": "With the rocks gone and the hole enlarged you can see the inlet clearly. It’s an opening in the stone wall, big enough to fit through. Water is gushing readily through it."
            },
            {
                "required_flags": "",
                "text": "With the rocks gone you can see the inlet clearly. It’s an opening in the stone wall, too small to fit through. Water is pouring more readily through it, and the stone lining the opening seems loose."
            }
        ],
        "actions": [
            {
                "message": "Widen the gap",
                "description": "Water gushes forth as you remove enough of the loose wall to fit through.",
                "set_flags": "flow_increased",
                "perform_once": true
            },
            {
                "message": "Put the bucket on your head",
                "description": "Watertight idea! Right?",
                "required_flags": "has_bucket, !bucket_on_head",
                "set_flags": "bucket_on_head"
            },
            {
                "message": "Try to swim out ",
                "description": "You take a deep breath and squeeze through the hole. The water is freezing cold and you feel like your going to drown.",
                "required_flags": "flow_increased, !is_swimming, !bucket_on_head",
                "perform_once": true,
                "set_flags": "is_swimming"
            },
            {
                "message": "Keep swimming",
                "description": "Your lungs ache as you keep going. You don't know how much further you can go.",
                "required_flags": "is_swimming, !swam_more, !bucket_on_head",
                "set_flags": "swam_more"
            },
            {
                "message": "Try to swim out ",
                "description": "You start panicking as you come to the realization that you are drowning.",
                "required_flags": "swam_more, !swimming_2, !bucket_on_head",
                "set_flags": "swimming_2"
            },
            {
                "message": "Try to swim out ",
                "description": "You take a deep breath and squeeze through the hole. The water is freezing cold and the bucket makes it hard to see where you're going.",
                "required_flags": "flow_increased, !is_swimming, bucket_on_head",
                "set_flags": "is_swimming"
            },
            {
                "message": "Keep swimming",
                "description": "You start getting short of breath, but you also feel the water pressure dropping.",
                "required_flags": "is_swimming, !swam_more, bucket_on_head",
                "set_flags": "swam_more"
            },
            {
                "message": "Keep swimming",
                "description": "Determined to get out you push until you break through to the surface. It's cold, you're tired and you look like an idiot, but you finally made it out.",
                "required_flags": "swam_more, !swimming_2, bucket_on_head",
                "set_flags": "swimming_2"
            },
            {
                "message": "Swim back",
                "description": "You get back in the nick of time. Coughing up water as you pull yourself through the hole you think \"that was close\".",
                "required_flags": "is_swimming, !bucket_on_head",
                "set_flags": "!is_swimming, !swam_more, !swimming_2"
            },
            {
                "message": "Swim back",
                "description": "You turn back, finding the hole again with a bucket on your head is hard, but you manage to squeeze through.",
                "required_flags": "is_swimming, bucket_on_head",
                "set_flags": "!is_swimming, !swam_more, !swimming_2"
            },
            {
                "message": "Head back",
                "description": "Speaking of heads, you take the bucket of as you walk away.",
                "required_flags": "!is_swimming, bucket_on_head",
                "set_flags": "!bucket_on_head",
                "go_to_scene": "16"
            },
            {
                "message": "Head back",
                "description": "You wade away in the water.",
                "required_flags": "!is_swimming, !bucket_on_head",
                "go_to_scene": "16"
            }
        ]
    },
    {
        "scene_index": "20",
        "descriptions": [
            {
                "required_flags": "took_leg, took_arm",
                "text": "The skeleton has been picked clean, making it unclear for how long it has been here. It could be another unfortunate escapee, one whose fate you’d rather not share. Your presence seems to have cost it an arm and a leg."
            },
            {
                "required_flags": "took_leg",
                "text": "The skeleton has been picked clean, making it unclear for how long it has been here. It could be another unfortunate escapee, one whose fate you’d rather not share. Now it’s also missing a leg."
            },
            {
                "required_flags": "took_arm",
                "text": "The skeleton has been picked clean, making it unclear for how long it has been here. It could be another unfortunate escapee, one whose fate you’d rather not share. Now it’s also missing an arm."
            },
            {
                "required_flags": "",
                "text": "The skeleton has been picked clean, making it unclear for how long it has been here. It could be another unfortunate escapee, one whose fate you’d rather not share."
            }
        ],
        "actions": [
            {
                "message": "Pick up leg bone",
                "description": "The bone seems sturdy.",
                "required_flags": "!took_leg, !has_arm",
                "perform_once": true,
                "set_flags": "took_leg, has_leg"
            },
            {
                "message": "Pick up arm bone",
                "description": "The bone reminds you of a stick.",
                "required_flags": "!took_arm, !has_leg",
                "perform_once": true,
                "set_flags": "took_arm, has_arm"
            },
            {
                "message": "Pick up leg bone",
                "description": "You are already carrying around the arm.",
                "required_flags": "!took_leg, has_arm"
            },
            {
                "message": "Pick up arm bone",
                "description": "You are already carrying around the leg.",
                "required_flags": "!took_arm, has_leg"
            },
            {
                "message": "Leave the old skeleton",
                "description": "You leave the skeleton in the stinking water.",
                "go_to_scene": "17"
            }
        ]
    },
    {
        "scene_index": "21",
        "descriptions": [
            {
                "required_flags": "gator_got_gotten",
                "text": "The alligator seems a lot less wild now! It’s of a monstrous size, with a maw full of teeth you fear could swallow you whole. Thankfully it can’t bite you with the bone lodged in its mouth."
            },
            {
                "required_flags": "",
                "text": "A wild alligator appears! It’s of a monstrous size, with a maw full of teeth you fear could swallow you whole. It sits motionless, eyeing you warily."
            }
        ],
        "actions": [
            {
                "message": "Throw fetch with the arm",
                "description": "It’s not a dog. Shame.",
                "required_flags": "has_arm",
                "set_flags": "!has_arm"
            },
            {
                "message": "Prop its mouth open with the leg",
                "description": "It hisses angrily, but the bone seems to hold and it won’t be able to bite you.",
                "required_flags": "has_leg",
                "perform_once": true,
                "set_flags": "!has_leg, gator_got_gotten"
            },
            {
                "message": "Try to sneak past",
                "description": "You stealthily try to slip by, the alligator growls as you get closer.",
                "required_flags": "!sneaking_gator, !gator_got_gotten",
                "set_flags": "sneaking_gator"
            },
            {
                "message": "Continue sneaking",
                "description": "",
                "required_flags": "sneaking_gator, !gator_got_gotten",
                "perform_once": true,
                "set_flags": "gator_gotem"
            },
            {
                "message": "Continue past",
                "description": "You quickly hurry past the frustrated alligator.",
                "required_flags": "gator_got_gotten",
                "go_to_scene": "22"
            },
            {
                "message": "Back away",
                "description": "You slowly back away from the alligator.",
                "required_flags": "!gator_got_gotten",
                "go_to_scene": "17"
            },
            {
                "message": "Back away",
                "description": "You turn away from the hissing alligator.",
                "required_flags": "gator_got_gotten",
                "go_to_scene": "17"
            }
        ]
    },
    {
        "scene_index": "22",
        "descriptions": [
            {
                "required_flags": "flow_increased",
                "text": "The tunnel exits into a larger chamber, a cistern. The smell is noticeably better here. A positive sign, you decide. Though that is soon to change with the sewage pouring in. In the center of the room hangs a bucket, the rope leading upwards through a round opening in the ceiling."
            },
            {
                "required_flags": "",
                "text": "The tunnel exits into a larger chamber, a cistern. The smell is noticeably better here. A positive sign, you decide. In the center of the room hangs a bucket, the rope leading upwards through a round opening in the ceiling."
            }
        ],
        "actions": [
            {
                "message": "Check the water",
                "description": "Hopefully no more alligators in here.",
                "go_to_scene": "23"
            },
            {
                "message": "Examine the bucket and rope",
                "description": "It probably connects to a well up top.",
                "go_to_scene": "25"
            },
            {
                "message": "Go back to the tunnel",
                "description": "You head back to the long tunnel.",
                "go_to_scene": "25"
            }
        ]
    },
    {
        "scene_index": "23",
        "descriptions": [
            {
                "required_flags": "flow_increased",
                "text": "The water is steadily turning murky due to the increased flow of sewage, making it harder to tell how deep it is."
            },
            {
                "required_flags": "",
                "text": "The water is clearer here than in the sewage tunnel, but not enough for you to tell how deep it is."
            }
        ],
        "actions": [
            {
                "message": "Take a dip ",
                "description": "You dive in… why?",
                "go_to_scene": "24 "
            },
            {
                "message": "Take a drink",
                "description": "Yum?",
                "required_flags": "!flow_increased",
                "perform_once": true
            },
            {
                "message": "Take a drink",
                "description": "You cup your hands to drink but decide to cut the endeavor short when a rat swims past.",
                "required_flags": "flow_increased",
                "perform_once": true
            },
            {
                "message": "Stare at your reflection",
                "description": "You don't manage to fall in love with your current appearance.",
                "perform_once": true
            },
            {
                "message": "Look at something else",
                "description": "You decide to stop pondering the pond.",
                "go_to_scene": "22"
            }
        ]
    },
    {
        "scene_index": "24",
        "descriptions": [
            {
                "required_flags": "flow_increased",
                "text": "You feel rather icky, swimming in the cold murky water. As you begin to wonder why you decided to go for a swim you feel your foot kick against something solid on the bottom."
            },
            {
                "required_flags": "It feels cold but somewhat refreshing. As you begin to wonder why you decided to go for a swim you feel your foot kick against something solid on the bottom.",
                "text": ""
            }
        ],
        "actions": [
            {
                "message": "Rummage the bottom",
                "description": "You find a boomerang. What was it doing down here?",
                "perform_once": true,
                "set_flags": "has_boomerang"
            },
            {
                "message": "Get out of the water",
                "description": "You crawl up on one of the slippery cistern sides.",
                "set_flags": "23"
            }
        ]
    },
    {
        "scene_index": "25",
        "descriptions": [
            {
                "required_flags": "has_bucket",
                "text": "The rope swings slowly, looking rather lonely without the bucket."
            },
            {
                "required_flags": "",
                "text": "The bucket swings slowly from the rope, taunting you."
            }
        ],
        "actions": [
            {
                "message": "Reach for the rope",
                "description": "It’s too far to reach.",
                "required_flags": "!flow_increased",
                "perform_once": true
            },
            {
                "message": "Reach for the rope",
                "description": "Climb to escape!",
                "required_flags": "flow_increased",
                "perform_once": true,
                "set_flags": "climbed_out"
            },
            {
                "message": "Boomerang the bucket down",
                "description": "You masterfully cut the rope and the bucket falls into your hands.",
                "required_flags": "has_boomerang",
                "perform_once": true,
                "set_flags": "has_bucket"
            },
            {
                "message": "Let the bucket be",
                "description": "You let the bucket be... for now.",
                "required_flags": "!has_bucket",
                "go_to_scene": "22"
            },
            {
                "message": "Leave the rope",
                "description": "You let the rope be... for now.",
                "required_flags": "has_bucket",
                "go_to_scene": "22"
            }
        ]
    }
]
